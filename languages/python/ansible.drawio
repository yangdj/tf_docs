<mxfile host="5060d2bd-eed4-43c8-affb-ed73c4952a96" modified="2020-08-13T09:30:39.598Z" agent="5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.47.3 Chrome/78.0.3904.130 Electron/7.3.2 Safari/537.36" etag="hT_rxdLuGq3AouVR_Q3P" version="13.1.3" pages="4">
    <diagram id="eBcAbpSF-Oy_RSFWKtva" name="ansible">
        <mxGraphModel dx="567" dy="480" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="6xjhARad8wJrEWCtZ0LZ-0"/>
                <mxCell id="6xjhARad8wJrEWCtZ0LZ-1" parent="6xjhARad8wJrEWCtZ0LZ-0"/>
                <mxCell id="ZcP3yA8Dl-tpxINnKkQJ-0" value="&lt;table cellpadding=&quot;4&quot; cellspacing=&quot;0&quot; border=&quot;1&quot; style=&quot;font-size: 1em ; width: 100% ; height: 100%&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;th&gt;settings&lt;/th&gt;&lt;th&gt;contents&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;install&lt;/td&gt;&lt;td&gt;&lt;h3&gt;packages&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;ansible&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;notes&lt;/h3&gt;&lt;div&gt;1. faced with &lt;font face=&quot;Courier New&quot;&gt;libselinux-python&lt;/font&gt; aren't installed in python3 virtual environment&lt;/div&gt;&lt;div&gt;sets &lt;font face=&quot;Courier New&quot;&gt;SELINUX=disabled&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;font-size: 1em&quot;&gt;in &lt;font face=&quot;Courier New&quot;&gt;/etc/selinux/config&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 1em&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;concepts&lt;/td&gt;&lt;td&gt;&lt;ol&gt;&lt;li&gt;control node&lt;/li&gt;&lt;li&gt;managed nodes&lt;/li&gt;&lt;li&gt;inventory - a list of managed nodes&lt;/li&gt;&lt;li&gt;modules&lt;/li&gt;&lt;li&gt;tasks&lt;/li&gt;&lt;li&gt;playbooks - list of tasks&lt;/li&gt;&lt;/ol&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;ansible command&lt;/td&gt;&lt;td&gt;&lt;h3&gt;arguments&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;pattern - &lt;/font&gt;specifies&amp;nbsp;hosts or groups&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;--inventory[-i] host-file&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;--limit[-l] pattern - &lt;/font&gt;limits selected hosts to an additional pattern&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;--list-hosts - &lt;/font&gt;outputs matching hosts, do not execute anything&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;-- playbook-dir basedir&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;--module-name[-m] moudule_name - &lt;/font&gt;default&lt;font face=&quot;Courier New&quot;&gt; command&lt;/font&gt; module&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;--args[-a] &quot;a1=v1 a2=v2&quot; - &lt;/font&gt;module arguments&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;--extra-vars[-e] extra_vars - &lt;/font&gt;key=value format, if filename prepend with&lt;font face=&quot;Courier New&quot;&gt; @&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;--forks[-f] forks - &lt;/font&gt;number of parallel process to use, default 5&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;--user[-u] remote_user - &lt;/font&gt;default &lt;font face=&quot;Courier New&quot;&gt;None&lt;/font&gt; as control node user&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;--become[-b] - &lt;/font&gt;runs operations with become (without password prompting)&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;--become-user become_user -&amp;nbsp;&lt;/font&gt;runs operations as this user (default=root)&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;--ask-become-pass[-K] -&amp;nbsp;&lt;/font&gt;asks for privilege escalation password&lt;/li&gt;&lt;/ol&gt;&lt;h4&gt;pattern&lt;/h4&gt;&lt;div&gt;&lt;ol&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;all[*], ungroup - &lt;/font&gt;for all hosts or just hosts not in group children&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;host1 -&lt;/font&gt; one host&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;host1:host[host1,host2] - &lt;/font&gt;multiple hosts&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;webserver - &lt;/font&gt;one group&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;websever:dbserver - &lt;/font&gt;multiple group&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;webserver:!dbserver - &lt;/font&gt;hosts in webserver, excluding in dbserver&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;webserver:&amp;amp;dbserver - &lt;/font&gt;hosts in webserver and dbserver&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;example&lt;/h3&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;// execute command for all hosts&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;ansible all -a &quot;/bin/echo hello&quot;&lt;/font&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;playbook command&lt;/td&gt;&lt;td&gt;&lt;h3&gt;arguments besides ansible&lt;/h3&gt;&lt;div&gt;&lt;ol&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;playbook.yml - &lt;/font&gt;playbook file&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;--syntax-check - &lt;/font&gt;performs a syntax check on the playbook, do not execute it&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;ansible-doc command&lt;/td&gt;&lt;td&gt;&lt;ol&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;ansible-doc -l - &lt;/font&gt;list available modules&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;ansible-doc module_name - &lt;/font&gt;docs for the module&lt;/li&gt;&lt;/ol&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt; " style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" parent="6xjhARad8wJrEWCtZ0LZ-1" vertex="1">
                    <mxGeometry x="10" y="20" width="810" height="920" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="OCWlrfduKCj-sj5FC8W1" name="playbook-structure">
        <mxGraphModel dx="567" dy="480" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="QPv2SNy1hGz203TRQEjH-0"/>
                <mxCell id="QPv2SNy1hGz203TRQEjH-1" parent="QPv2SNy1hGz203TRQEjH-0"/>
                <mxCell id="QPv2SNy1hGz203TRQEjH-5" value="" style="swimlane;html=1;startSize=20;horizontal=1;containerType=tree;strokeColor=none;fillColor=none;align=left;fontFamily=Courier New;spacingLeft=12;spacingTop=-1;" parent="QPv2SNy1hGz203TRQEjH-1" vertex="1">
                    <mxGeometry x="10" y="30" width="790" height="1450" as="geometry"/>
                </mxCell>
                <mxCell id="QPv2SNy1hGz203TRQEjH-6" value="" style="edgeStyle=entityRelationEdgeStyle;startArrow=none;endArrow=none;segment=10;curved=1;align=left;fontFamily=Courier New;spacingLeft=12;spacingTop=-1;" parent="QPv2SNy1hGz203TRQEjH-5" source="QPv2SNy1hGz203TRQEjH-10" target="QPv2SNy1hGz203TRQEjH-11" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="QPv2SNy1hGz203TRQEjH-10" value="playbook-dir/" style="ellipse;whiteSpace=wrap;html=1;align=left;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};fontFamily=Courier New;spacingLeft=12;spacingTop=-1;" parent="QPv2SNy1hGz203TRQEjH-5" vertex="1">
                    <mxGeometry x="10" y="290" width="130" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="QPv2SNy1hGz203TRQEjH-11" value="inventory" style="whiteSpace=wrap;html=1;rounded=1;arcSize=13;align=left;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};fontFamily=Courier New;spacingLeft=12;spacingTop=-1;" parent="QPv2SNy1hGz203TRQEjH-5" vertex="1">
                    <mxGeometry x="160" y="80" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="QPv2SNy1hGz203TRQEjH-15" value="" style="edgeStyle=entityRelationEdgeStyle;startArrow=none;endArrow=none;segment=10;curved=1;align=left;fontFamily=Courier New;spacingLeft=12;spacingTop=-1;" parent="QPv2SNy1hGz203TRQEjH-5" source="QPv2SNy1hGz203TRQEjH-11" target="QPv2SNy1hGz203TRQEjH-16" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="120" y="180" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="QPv2SNy1hGz203TRQEjH-16" value="hosts - general inventory file&lt;br&gt;staging&amp;nbsp;- inventory for staging&lt;br&gt;production - inventory for production&lt;br&gt;host_vars/&lt;br&gt;&amp;nbsp; &amp;nbsp; host1.yml - assign variable for host1&lt;br&gt;&amp;nbsp; &amp;nbsp; host2.yml&lt;br&gt;group_vars/&lt;br&gt;&amp;nbsp; &amp;nbsp; group1.yml&amp;nbsp;- assign variable for host in group1&lt;br&gt;&amp;nbsp; &amp;nbsp; group2/&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; vars&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; vault" style="whiteSpace=wrap;html=1;rounded=1;arcSize=6;align=left;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};fontFamily=Courier New;spacingLeft=12;spacingTop=-1;" parent="QPv2SNy1hGz203TRQEjH-5" vertex="1">
                    <mxGeometry x="290" y="10" width="420" height="170" as="geometry"/>
                </mxCell>
                <mxCell id="e6sNbGxzWFyAGRXbp4J3-0" value="" style="edgeStyle=entityRelationEdgeStyle;startArrow=none;endArrow=none;segment=10;curved=1;align=left;fontFamily=Courier New;spacingLeft=12;spacingTop=-1;" edge="1" target="e6sNbGxzWFyAGRXbp4J3-1" source="QPv2SNy1hGz203TRQEjH-10" parent="QPv2SNy1hGz203TRQEjH-5">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="150" y="245" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="e6sNbGxzWFyAGRXbp4J3-1" value="playbook" style="whiteSpace=wrap;html=1;rounded=1;arcSize=13;align=left;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};fontFamily=Courier New;spacingLeft=12;spacingTop=-1;" vertex="1" parent="QPv2SNy1hGz203TRQEjH-5">
                    <mxGeometry x="160" y="295" width="110" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="e6sNbGxzWFyAGRXbp4J3-2" value="" style="edgeStyle=entityRelationEdgeStyle;startArrow=none;endArrow=none;segment=10;curved=1;align=left;fontFamily=Courier New;spacingLeft=12;spacingTop=-1;" edge="1" target="e6sNbGxzWFyAGRXbp4J3-3" source="e6sNbGxzWFyAGRXbp4J3-1" parent="QPv2SNy1hGz203TRQEjH-5">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="150" y="275" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="e6sNbGxzWFyAGRXbp4J3-3" value="site.yml - master playbook&lt;br&gt;webserver.yml - playbook for webserver&lt;br&gt;dbserver.yml&amp;nbsp;- playbook for dbserver" style="whiteSpace=wrap;html=1;rounded=1;arcSize=13;align=left;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};fontFamily=Courier New;spacingLeft=12;spacingTop=-1;" vertex="1" parent="QPv2SNy1hGz203TRQEjH-5">
                    <mxGeometry x="290" y="285" width="330" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="e6sNbGxzWFyAGRXbp4J3-4" value="" style="edgeStyle=entityRelationEdgeStyle;startArrow=none;endArrow=none;segment=10;curved=1;align=left;fontFamily=Courier New;spacingLeft=12;spacingTop=-1;" edge="1" target="e6sNbGxzWFyAGRXbp4J3-5" source="QPv2SNy1hGz203TRQEjH-10" parent="QPv2SNy1hGz203TRQEjH-5">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="150" y="180" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="e6sNbGxzWFyAGRXbp4J3-5" value="roles" style="whiteSpace=wrap;html=1;rounded=1;arcSize=13;align=left;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};fontFamily=Courier New;spacingLeft=12;spacingTop=-1;" vertex="1" parent="QPv2SNy1hGz203TRQEjH-5">
                    <mxGeometry x="160" y="565" width="110" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="e6sNbGxzWFyAGRXbp4J3-6" value="" style="edgeStyle=entityRelationEdgeStyle;startArrow=none;endArrow=none;segment=10;curved=1;align=left;fontFamily=Courier New;spacingLeft=12;spacingTop=-1;" edge="1" target="e6sNbGxzWFyAGRXbp4J3-7" source="e6sNbGxzWFyAGRXbp4J3-5" parent="QPv2SNy1hGz203TRQEjH-5">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="150" y="475" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="e6sNbGxzWFyAGRXbp4J3-7" value="roles/&lt;br&gt;&amp;nbsp; &amp;nbsp; roles1/&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; handlers/&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; main.yml&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; tasks/&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; main.yml&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; templates/&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; my.conf.j2&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; files/&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; localhost.cfg&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; vars/&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; main.yml - variables for role1&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; meta/ - contain dependencies for other roles&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; main.yml&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; defaults/ - default variables for role1&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; main.yml&lt;br&gt;&amp;nbsp; &amp;nbsp; roles2/&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ...&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ..." style="whiteSpace=wrap;html=1;rounded=1;arcSize=5;align=left;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};fontFamily=Courier New;spacingLeft=12;spacingTop=-1;" vertex="1" parent="QPv2SNy1hGz203TRQEjH-5">
                    <mxGeometry x="310" y="440" width="430" height="280" as="geometry"/>
                </mxCell>
                <mxCell id="RqrqsdC89fF9GD9vA9GU-0" value="" style="edgeStyle=entityRelationEdgeStyle;startArrow=none;endArrow=none;segment=10;curved=1;align=left;fontFamily=Courier New;spacingLeft=12;spacingTop=-1;" edge="1" target="RqrqsdC89fF9GD9vA9GU-1" source="QPv2SNy1hGz203TRQEjH-10" parent="QPv2SNy1hGz203TRQEjH-5">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="150" y="340" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="RqrqsdC89fF9GD9vA9GU-1" value="files" style="whiteSpace=wrap;html=1;rounded=1;arcSize=13;align=left;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};fontFamily=Courier New;spacingLeft=12;spacingTop=-1;" vertex="1" parent="QPv2SNy1hGz203TRQEjH-5">
                    <mxGeometry x="160" y="830" width="110" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="RqrqsdC89fF9GD9vA9GU-2" value="" style="edgeStyle=entityRelationEdgeStyle;startArrow=none;endArrow=none;segment=10;curved=1;align=left;fontFamily=Courier New;spacingLeft=12;spacingTop=-1;" edge="1" target="RqrqsdC89fF9GD9vA9GU-3" source="RqrqsdC89fF9GD9vA9GU-1" parent="QPv2SNy1hGz203TRQEjH-5">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="150" y="340" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="RqrqsdC89fF9GD9vA9GU-3" value="files/" style="whiteSpace=wrap;html=1;rounded=1;arcSize=13;align=left;verticalAlign=middle;strokeWidth=1;autosize=1;spacing=4;treeFolding=1;treeMoving=1;newEdgeStyle={&quot;edgeStyle&quot;:&quot;entityRelationEdgeStyle&quot;,&quot;startArrow&quot;:&quot;none&quot;,&quot;endArrow&quot;:&quot;none&quot;,&quot;segment&quot;:10,&quot;curved&quot;:1};fontFamily=Courier New;spacingLeft=12;spacingTop=-1;" vertex="1" parent="QPv2SNy1hGz203TRQEjH-5">
                    <mxGeometry x="310" y="830" width="100" height="30" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="KFz88gbmkmA4D01acFhd" name="file-contents">
        <mxGraphModel dx="567" dy="480" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="uhKCY2jXzY3qLd5-olUe-0"/>
                <mxCell id="uhKCY2jXzY3qLd5-olUe-1" parent="uhKCY2jXzY3qLd5-olUe-0"/>
                <mxCell id="gDkHkDSdqnpwK-sjDLxo-0" value="&lt;table cellpadding=&quot;4&quot; cellspacing=&quot;0&quot; border=&quot;1&quot; style=&quot;font-size: 1em ; width: 100% ; height: 100%&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;th&gt;settings&lt;/th&gt;&lt;th&gt;contents&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;hosts&lt;/td&gt;&lt;td&gt;&lt;h3&gt;INI format&lt;/h3&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;192.168.1.111 ansible_user=example&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;jumper ansible_port=5555 ansible_host=192.0.2.50&lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&lt;div&gt;[abserver]&lt;/div&gt;&lt;div&gt;aserver.example.com&lt;/div&gt;&lt;div&gt;bserver.example.com&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;vars&lt;/td&gt;&lt;td&gt;&lt;font face=&quot;Courier New&quot;&gt;remote_user: user_name&lt;br&gt;ansible_become_pass: &quot;{{ vault_ansible_become_pass }}&quot;&lt;br&gt;ansible-become-pass: 123456&lt;br&gt;key1: value1&lt;br&gt;...&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;tasks&lt;/td&gt;&lt;td&gt;&lt;h3&gt;arguments&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;name - &lt;/font&gt;task name&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;arguments - &lt;/font&gt;ansible arguments&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;module&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;vars&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;loop&lt;/font&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;example&lt;/h3&gt;&lt;font face=&quot;Courier New&quot;&gt;- name: create spark related directory&lt;br&gt;&amp;nbsp; become: yes&lt;br&gt;&amp;nbsp; file:&lt;br&gt;&amp;nbsp; &amp;nbsp; path: &quot;{{ item.value }}&quot;&lt;br&gt;&amp;nbsp; &amp;nbsp; state: directory&lt;br&gt;&amp;nbsp; loop: &quot;{{ spark_base|dict2items }}&quot;&lt;br&gt;&lt;br&gt;- name: generate spark configuration file to remote server&lt;br&gt;&amp;nbsp; template:&lt;br&gt;&amp;nbsp; &amp;nbsp; src: &quot;conf/{{ spark_version }}/{{ item }}.j2&quot;&lt;br&gt;&amp;nbsp; &amp;nbsp; dest: &quot;{{ spark_base.conf_version }}/{{item}}&quot;&lt;br&gt;&amp;nbsp; loop:&lt;br&gt;&amp;nbsp; &amp;nbsp; - slaves&lt;br&gt;&amp;nbsp; &amp;nbsp; - spark-defaults.conf&lt;/font&gt;&lt;br&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;playbook&lt;/td&gt;&lt;td&gt;&lt;font face=&quot;Courier New&quot;&gt;- hosts: webserver&lt;br&gt;&amp;nbsp; remote_user: username&lt;br&gt;&amp;nbsp; become: yes&lt;br&gt;&amp;nbsp; become_user: othername&lt;br&gt;&amp;nbsp; become_method: sudo | su&lt;br&gt;&amp;nbsp; vars:&lt;br&gt;&amp;nbsp; &amp;nbsp; workdir: /var/lib/ansible&lt;br&gt;&amp;nbsp; &amp;nbsp; logfile: /var/log/ansible-pull.log&lt;br&gt;&amp;nbsp; tasks:&lt;br&gt;&amp;nbsp; &amp;nbsp; - name: test connection &lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; ping:&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; remote_user: username&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt; " style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="uhKCY2jXzY3qLd5-olUe-1">
                    <mxGeometry x="20" y="10" width="620" height="880" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="yBaHcAucrmrcRWLfVA8K" name="modules">
        <mxGraphModel dx="1019" dy="480" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="NMK4j2qtfRMqPgHjRc6h-0"/>
                <mxCell id="NMK4j2qtfRMqPgHjRc6h-1" parent="NMK4j2qtfRMqPgHjRc6h-0"/>
                <mxCell id="bbga2ahlCyCSMSophvbE-0" value="&lt;table cellpadding=&quot;4&quot; cellspacing=&quot;0&quot; border=&quot;1&quot; style=&quot;font-size: 1em ; width: 100% ; height: 100%&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;th&gt;modules&lt;/th&gt;&lt;th&gt;contents&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;yum&lt;br&gt;&lt;/td&gt;&lt;td&gt;&lt;h3&gt;arguments&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;name&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;state: [present, ]&lt;/font&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;example&lt;/h3&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;yum:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; name: &quot;{{ packages }}&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; state: present&lt;/font&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;synchronize&lt;br&gt;&lt;/td&gt;&lt;td&gt;&lt;div&gt;&lt;h3&gt;arguments&lt;/h3&gt;&lt;/div&gt;&lt;ol&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;src&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;dest&lt;/font&gt;&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;h3&gt;example&lt;/h3&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;synchronize:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; src: &quot;{{ jdk_source_name }}&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; dest: &quot;{{ java_bin_home }}&quot;&lt;/font&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;template&lt;br&gt;&lt;/td&gt;&lt;td&gt;&lt;div&gt;&lt;h3&gt;arguments&lt;/h3&gt;&lt;/div&gt;&lt;ol&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;src&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;dest&lt;/font&gt;&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;h3&gt;example&lt;/h3&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;template:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; src: &quot;conf/{{ hadoop_version }}/{{ item }}.j2&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; dest: &quot;{{ hadoop_base.conf_version }}/{{item}}&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; loop:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 1em&quot;&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; &amp;nbsp; - workers&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 1em&quot;&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; &amp;nbsp; - masters&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;file&lt;/td&gt;&lt;td&gt;&lt;div&gt;&lt;h3&gt;arguments&lt;/h3&gt;&lt;/div&gt;&lt;ol&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;path&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;mode&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;state: [directory, ]&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;owner&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;group&lt;/font&gt;&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;h3&gt;example&lt;/h3&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;file:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; path: &quot;{{ proj_home }}&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; mode: 0755&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; state: directory&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; owner: &quot;{{ remote_user }}&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; group: &quot;{{ remote_user }}&quot;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;blockinfile&lt;br&gt;&lt;/td&gt;&lt;td&gt;&lt;div&gt;&lt;h3&gt;arguments&lt;/h3&gt;&lt;/div&gt;&lt;ol&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;path&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;create: [yes, ]&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;marker&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font face=&quot;Courier New&quot;&gt;block&lt;/font&gt;&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;h3&gt;example&lt;/h3&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;blockinfile:&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; path: &quot;{{ hp_bashrc }}&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; create: yes&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; marker: &quot;# {mark} java configuration&quot;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; block: |&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; &amp;nbsp; export JAVA_HOME={{ java_home }}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot;&gt;&amp;nbsp; &amp;nbsp; export PATH=${JAVA_HOME}/bin:${PATH}&lt;/font&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt; " style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="NMK4j2qtfRMqPgHjRc6h-1">
                    <mxGeometry x="20" y="10" width="540" height="1120" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>