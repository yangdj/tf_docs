## rmarkdown

### YAML metadata

```
  title: "title-name"
  author: "author-name"
  date: "3000-01-01"
  output: 
    pdf_document:
      fontsize: 12pt
      urlcolor: black
      linkcolor: black
      latex_engine: xelatex
      includes:
        in_header: tex/header.tex or ["a.file", "b.file", ...]
        before_body: doc-prefix.tex
        after_body: doc-suffix.tex
      highlight: tango
      fig_caption: true
      number_sections: true
      keep_tex: true
      template: template.tex
      toc: true
      toc_depth: 3
      df_print: kable
    html_document:
      toc: yes
      toc_depth: 3
      toc_float: true
      number_sections: true
      css: file.css
    word_document:
      reference_docx: ref.docx
```

explains:


* `in_header: [tex1.tex, tex2.tex]`: include several tex files, you can use .
* `urlcolor` specify external color
* `linkcolor` specify internal link color.


### knitr settings

```
{r setup, include=FALSE}
  knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE, fig.showtext = TRUE)
```

explains:

* `warning = FALSE`: hide warnings
* `message = FALSE`: hide messages
* `echo = FALSE`: hide r source code
* `eval = FALSE`: not evaluate code
* `resutls = "hide"`: hide text output
* `include = FALSE`: hide everything, the code is evaluated
* `fig.path="figs/"`
* `fig.width = 12`
* `fig.height = 8`
* `fig.cap = "figure caption. \\label{figurelabel}"`
* `child = "child.rmd"`: include other rmd file

### rmarkdown syntax

#### headings

atx sytle:

* `#` level one
* `##` level two
* `###` level three
* `####` level four
* `#####` level five
* `######` level six

setext style:

* `===` level one
      
        level one header
        ===
      
* `---` level two

        level two header
        ---

#### links

1. `(http://example.com)`
2. `[example](http://example.com)`
3. `[example][foo]` `[foo]: http://example.com "hover text"`
4. `![img](/path/to/img "optional title")`
5. `![img](foo)` `[foo]: path/to/img "optional title"`

#### equations

block equations:

```
\begin{equation}
\label{eq-abc}
a + b = c
\end{equation}
```

the `\label{}` gives the equation a name, you can use it to refer to the equation, using `\ref{eq-abc}`, or `\autoref{eq-abc}`.

inline equations can be added by writing dollar signs around an equation: `$a + b = c$`

#### figures

use `![figure caption](figure-name.jpg)` to include a figure. set `fig_caption: yes` to make sure a caption shows up underneath the figure which is turned off by default. and `![figure caption \label{figure-label}](figure-name.jpg)` give a label to a figure. use `\ref{figure-label}` or `\autoref{figure-label}` to refter to the figure.

#### tables

#### R code

inline r code: `` `r
1+1` ``.

block r code:

    ```{r chunk-name}`r ''`
    plot(pressure)
    ```

#### latex syntax

* `\label{label-name}`: sets a lable
* `\ref{label-name}` or `\autoref{label-name}`: refers to a lable
* `\newpage`: starts on a new page
* `\setcounter{tocdepth}{2}`: set toc depth
* `\tableofcontents`: show table of contents
* `\listoffigures`
* `\listoftables`
* `\FloatBarrier`: keep figures, tables and so on display in its own chapter

#### others

1. when print a code chunk as is, for block r code, indent four spaces, and refer to this source file.
